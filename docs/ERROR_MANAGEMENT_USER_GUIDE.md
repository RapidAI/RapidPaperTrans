# 错误管理功能 - 用户使用指南

## 简介

错误管理功能帮助您跟踪和管理论文翻译过程中出现的错误，让您可以轻松重试失败的翻译任务。

## 功能特点

- 📝 **自动记录错误** - 翻译过程中的错误会自动保存
- 🔍 **查看错误详情** - 了解具体在哪个阶段出错以及错误原因
- 🔄 **一键重试** - 快速重新开始翻译
- 🗑️ **清理记录** - 删除不需要的错误记录
- 📤 **导出列表** - 导出错误列表到文本文件，方便报告 bug ✅

## 使用步骤

### 1. 查看错误列表

当翻译失败后，您可以查看错误记录：

1. 点击主界面顶部的 **"⚠️ 错误"** 按钮
2. 错误管理窗口会打开，显示所有错误记录

![错误管理按钮](../screenshots/error-button.png)

### 2. 理解错误信息

每条错误记录包含以下信息：

| 信息项 | 说明 | 示例 |
|--------|------|------|
| 📄 标题 | 论文标题 | "Deep Learning Advances" |
| 🏷️ 阶段标签 | 出错的具体阶段 | "下载"、"编译"、"翻译" |
| ❌ 错误消息 | 详细的错误描述 | "连接超时" |
| 🆔 arXiv ID | 论文的唯一标识 | "2501.17161" |
| ⏰ 时间 | 错误发生的时间 | "2小时前" |
| 🔁 重试次数 | 已经重试的次数 | "重试: 1次" |

### 3. 重试翻译

如果您想重新尝试翻译：

1. 在错误列表中找到要重试的论文
2. 点击该项右侧的 **"🔄 重试"** 按钮
3. 系统会自动：
   - 关闭错误管理窗口
   - 重新开始完整的翻译流程
   - 如果成功，自动移除错误记录
   - 如果失败，更新错误信息

> 💡 **提示**: 重试会从头开始完整流程，不会从出错的地方继续。

### 4. 清除错误记录

#### 清除单个记录

如果某个错误已经解决或不再需要：

1. 点击该错误项的 **"🗑️ 清除"** 按钮
2. 确认删除操作
3. 该记录会被永久删除

#### 清除所有记录

如果要清空所有错误记录：

1. 点击窗口底部的 **"清除全部"** 按钮
2. 确认删除操作
3. 所有错误记录会被清除

> ⚠️ **警告**: 清除操作不可恢复，请谨慎操作。

## 常见错误类型

### 下载错误 🌐

**标签**: 下载

**常见原因**:
- 网络连接问题
- arXiv 服务器暂时不可用
- 输入的 arXiv ID 不存在

**解决方法**:
1. 检查网络连接
2. 确认 arXiv ID 正确
3. 稍后重试

### 解压错误 📦

**标签**: 解压

**常见原因**:
- 下载的文件损坏
- 磁盘空间不足
- 文件格式不支持

**解决方法**:
1. 清理磁盘空间
2. 重新下载文件
3. 检查文件完整性

### 原始编译错误 📝

**标签**: 原始编译

**常见原因**:
- LaTeX 环境未安装
- LaTeX 包缺失
- 源文件语法错误

**解决方法**:
1. 安装或更新 LaTeX 环境
2. 安装缺失的 LaTeX 包
3. 查看编译日志了解具体错误

### 翻译错误 🌍

**标签**: 翻译

**常见原因**:
- API 密钥无效或过期
- API 配额用尽
- 网络连接问题
- 文本过长超出限制

**解决方法**:
1. 检查 API 密钥配置
2. 确认 API 配额充足
3. 检查网络连接
4. 调整上下文窗口大小

### 翻译后编译错误 ⚙️

**标签**: 翻译后编译

**常见原因**:
- 翻译后的 LaTeX 语法错误
- 中文字体未安装
- XeLaTeX 编译器问题

**解决方法**:
1. 检查 XeLaTeX 是否正确安装
2. 安装中文字体支持
3. 查看编译日志
4. 尝试重新翻译

### PDF生成错误 📄

**标签**: PDF生成

**常见原因**:
- 原始或翻译 PDF 文件损坏
- 磁盘空间不足
- PDF 处理工具问题

**解决方法**:
1. 检查磁盘空间
2. 确认 PDF 文件完整
3. 重新生成 PDF

## 使用技巧

### 💡 技巧 1: 定期检查

建议定期查看错误列表，及时处理失败的翻译任务。

### 💡 技巧 2: 分析错误模式

如果某类错误频繁出现，可能需要：
- 检查系统配置
- 更新软件版本
- 调整设置参数

### 💡 技巧 3: 合理重试

- 网络错误：稍后重试
- 配置错误：修复配置后重试
- 源文件错误：可能无法通过重试解决

### 💡 技巧 4: 保持整洁

定期清理已解决或无法修复的错误记录，保持列表整洁。

## 常见问题

### Q: 错误记录会占用很多空间吗？

A: 不会。错误记录只保存文本信息，通常每条记录不到 1KB。

### Q: 错误记录会自动清除吗？

A: 是的，有两种情况会自动清除：
1. **重试成功后** - 错误记录会立即自动移除
2. **直接翻译成功** - 如果之前有错误记录，成功后会自动移除

其他情况需要手动清除。

### Q: 可以导出错误记录吗？

A: 当前版本暂不支持导出功能，但错误记录保存在 `~/.latex-translator/errors/errors.json` 文件中，可以手动查看。

### Q: 重试会消耗 API 配额吗？

A: 是的。重试会重新调用翻译 API，会消耗相应的配额。

### Q: 可以批量重试吗？

A: 当前版本需要逐个重试，批量重试功能计划在未来版本中添加。

### Q: 错误记录有数量限制吗？

A: 没有硬性限制，但建议保持在 100 条以内以获得最佳性能。

## 故障排除

### 问题: 错误管理按钮不显示

**可能原因**: 前端未正确集成

**解决方法**:
1. 确认应用版本支持错误管理功能
2. 重启应用
3. 检查浏览器控制台是否有错误

### 问题: 错误列表为空但确实有错误

**可能原因**: 错误记录文件损坏或丢失

**解决方法**:
1. 检查 `~/.latex-translator/errors/errors.json` 文件是否存在
2. 查看应用日志了解详情
3. 重新触发错误以创建新记录

### 问题: 重试按钮无响应

**可能原因**: 后端服务异常

**解决方法**:
1. 检查应用是否正常运行
2. 查看日志文件
3. 重启应用

### 问题: 清除操作失败

**可能原因**: 文件权限问题

**解决方法**:
1. 检查文件权限
2. 确认文件未被其他程序占用
3. 以管理员权限运行应用

## 获取帮助

如果遇到问题：

1. 查看 [详细文档](ERROR_MANAGEMENT.md)
2. 检查 [快速集成指南](../ERROR_MANAGEMENT_QUICKSTART.md)
3. 查看应用日志文件
4. 在 GitHub 上提交 Issue

## 反馈建议

我们欢迎您的反馈和建议！如果您有任何想法，请：

- 在 GitHub 上提交 Issue
- 发送邮件给开发团队
- 参与社区讨论

---

**版本**: v1.0.0  
**更新日期**: 2026-01-28  
**适用版本**: RapidPaperTrans v1.0.0+
