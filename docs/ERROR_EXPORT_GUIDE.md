# 错误列表导出功能使用指南

## 功能概述

错误列表导出功能允许用户将所有错误记录导出为文本文件，方便：
- 📋 报告 bug 给开发团队
- 📊 分析错误模式
- 💾 备份错误记录
- 📤 分享问题给其他用户

## 使用方法

### 1. 打开错误管理窗口

点击主界面顶部的 **"⚠️ 错误"** 按钮

### 2. 点击导出按钮

在错误管理窗口底部，点击 **"📤 导出列表"** 按钮

### 3. 选择保存位置

系统会弹出文件保存对话框：
- 默认文件名：`error_report_YYYYMMDD_HHMMSS.txt`
- 文件类型：文本文件 (*.txt)
- 选择保存位置并点击"保存"

### 4. 导出完成

- 成功：显示 "错误列表已导出" 提示
- 失败：显示具体错误信息

## 导出文件格式

### 文件结构

```
=== RapidPaperTrans 错误报告 ===
导出时间: 2026-01-28 10:30:00
错误数量: 3

--- 错误 1 ---
arXiv ID: 2501.17161
标题: Deep Learning Advances
输入: https://arxiv.org/abs/2501.17161
阶段: download (下载)
错误信息: Failed to download: connection timeout
发生时间: 2026-01-28 09:15:30
重试次数: 2
最后重试: 2026-01-28 10:00:00

--- 错误 2 ---
arXiv ID: 2501.17162
标题: Neural Networks
输入: 2501.17162
阶段: original_compile (原始文档编译)
错误信息: LaTeX Error: Missing \begin{document}
发生时间: 2026-01-28 09:20:00
重试次数: 0

--- 错误 3 ---
arXiv ID: 2501.17163
标题: Transformer Architecture
输入: 2501.17163
阶段: translation (翻译)
错误信息: API Error: Rate limit exceeded
发生时间: 2026-01-28 09:25:00
重试次数: 1
最后重试: 2026-01-28 09:30:00

=== arXiv ID 列表 ===
2501.17161
2501.17162
2501.17163
```

### 文件内容说明

#### 头部信息
- **导出时间**：文件生成的时间
- **错误数量**：总共有多少条错误记录

#### 错误详情
每条错误包含：
- **arXiv ID**：论文的唯一标识符
- **标题**：论文标题
- **输入**：用户输入的原始内容（URL/ID/路径）
- **阶段**：出错的具体阶段（中英文）
- **错误信息**：详细的错误描述
- **发生时间**：错误首次发生的时间
- **重试次数**：已经重试的次数
- **最后重试**：最后一次重试的时间（如果有）

#### arXiv ID 列表
文件末尾提供纯 arXiv ID 列表，方便：
- 快速复制粘贴
- 批量处理
- 统计分析

## 使用场景

### 场景 1: 报告 Bug

当遇到翻译问题时：

1. 导出错误列表
2. 在 GitHub 上创建 Issue
3. 附上导出的文本文件
4. 开发团队可以快速了解问题

**示例 Issue 内容**：
```markdown
## Bug 描述
翻译多篇论文时遇到错误

## 错误列表
见附件：error_report_20260128_103000.txt

## 环境信息
- 操作系统：Windows 11
- 应用版本：v1.0.0
- LaTeX 版本：MiKTeX 23.10
```

### 场景 2: 批量重试

如果需要批量重试失败的论文：

1. 导出错误列表
2. 从文件中提取 arXiv ID 列表
3. 修复问题后批量重新翻译

### 场景 3: 错误分析

分析错误模式：

1. 定期导出错误列表
2. 统计各阶段错误频率
3. 识别常见问题
4. 改进系统配置

### 场景 4: 备份记录

在清除错误记录前：

1. 导出当前错误列表
2. 保存到安全位置
3. 清除错误记录
4. 需要时可以查看历史记录

## 注意事项

### ⚠️ 导出前提

- 必须有至少一条错误记录
- 如果没有错误，会提示 "没有错误记录可导出"

### 💡 文件命名

- 默认文件名包含时间戳，避免覆盖
- 建议保留默认命名，便于追溯

### 📁 保存位置

- 可以保存到任意位置
- 建议创建专门的文件夹管理错误报告
- 例如：`Documents/RapidPaperTrans/ErrorReports/`

### 🔒 隐私保护

导出文件可能包含：
- arXiv ID（公开信息）
- 论文标题（公开信息）
- 错误消息（可能包含系统路径）

**建议**：
- 检查文件内容，确保没有敏感信息
- 如有必要，编辑文件后再分享

## 快捷操作

### 快速导出

1. `Ctrl + E`（如果设置了快捷键）
2. 或点击 "⚠️ 错误" → "📤 导出列表"

### 快速查看

导出后，可以用任何文本编辑器打开：
- 记事本
- VS Code
- Notepad++
- Sublime Text

## 常见问题

### Q: 导出的文件在哪里？

A: 在你选择的保存位置。如果忘记了，可以：
1. 查看文件浏览器的"最近文件"
2. 搜索文件名（包含 `error_report`）
3. 重新导出一次

### Q: 可以导出为其他格式吗？

A: 当前版本只支持 TXT 格式。未来可能支持：
- CSV 格式（便于 Excel 分析）
- JSON 格式（便于程序处理）
- Markdown 格式（便于文档展示）

### Q: 导出后错误记录会被清除吗？

A: 不会。导出只是复制数据，不会删除原始记录。

### Q: 可以导出部分错误吗？

A: 当前版本导出所有错误。如需部分导出：
1. 先清除不需要的错误
2. 再执行导出
3. 或手动编辑导出的文件

### Q: 文件太大怎么办？

A: 如果错误记录很多：
1. 考虑分批导出
2. 清除旧的错误记录
3. 使用文本编辑器压缩文件

### Q: 导出失败怎么办？

A: 检查：
1. 是否有写入权限
2. 磁盘空间是否充足
3. 文件路径是否有效
4. 尝试保存到其他位置

## 技术细节

### 文件编码

- UTF-8 编码
- 支持中文和特殊字符
- 兼容所有主流文本编辑器

### 文件大小

- 每条错误约 200-500 字节
- 100 条错误约 20-50 KB
- 通常不会超过 1 MB

### 生成时间

- 少量错误（< 10）：< 100ms
- 中等数量（10-100）：< 500ms
- 大量错误（> 100）：< 2s

## 最佳实践

### 1. 定期导出

建议每周或每月导出一次，用于：
- 跟踪问题趋势
- 评估系统稳定性
- 记录改进效果

### 2. 分类保存

按时间或类型组织导出文件：
```
ErrorReports/
├── 2026-01/
│   ├── error_report_20260115.txt
│   └── error_report_20260128.txt
├── 2026-02/
│   └── ...
└── critical/
    └── urgent_errors.txt
```

### 3. 添加注释

在导出文件中添加自己的注释：
```
=== 用户备注 ===
这批错误主要是网络问题导致的
已联系网络管理员
预计明天修复

[原始导出内容]
...
```

### 4. 配合 Issue 使用

创建 GitHub Issue 时：
- 标题：简要描述问题
- 正文：详细说明
- 附件：导出的错误列表
- 标签：bug, error-report

## 示例工作流

### 完整的 Bug 报告流程

```
1. 遇到翻译错误
   ↓
2. 打开错误管理
   ↓
3. 查看错误详情
   ↓
4. 导出错误列表
   ↓
5. 创建 GitHub Issue
   ↓
6. 附上导出文件
   ↓
7. 等待开发团队响应
   ↓
8. 问题修复后重试
   ↓
9. 成功后清除错误记录
```

## 相关功能

- [错误管理功能](ERROR_MANAGEMENT.md)
- [用户使用指南](ERROR_MANAGEMENT_USER_GUIDE.md)
- [重试流程](ERROR_RETRY_FLOW.md)

## 反馈建议

如果您对导出功能有任何建议：
- 希望支持的新格式
- 需要的额外信息
- 改进的想法

欢迎在 GitHub 上提交 Issue 或 Pull Request！

---

**版本**: v1.0.0  
**更新日期**: 2026-01-28  
**功能状态**: ✅ 已实现并可用
